<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Detalhes da Equipe</title>
  <!-- Estilo global retrô -->
  <link rel="stylesheet" href="../style.css">
  <script defer src="../saveManager.js"></script>
  <script defer>
    /**
     * Esta página exibe um resumo dos principais dados da equipe
     * atualmente carregada no jogo.  São listados o nome da equipe,
     * o motor, os pilotos contratados com seus respectivos salários e
     * membros de staff com cargo e habilidade.  Não há ações de
     * gerenciamento aqui; essa página serve apenas como consulta.
     */
    window.onload = () => {
      const jogo = loadGameData();
      if (!jogo) {
        alert("Jogo não carregado.");
        window.location.href = "../index.html";
        return;
      }
      document.getElementById('nomeEquipe').textContent = jogo.equipe;
      document.getElementById('motor').textContent = jogo.motor;

      // Lista pilotos contratados
      const pilotosDiv = document.getElementById('listaPilotos');
      pilotosDiv.innerHTML = '';
      if (jogo.pilotos && jogo.pilotos.length > 0) {
        jogo.pilotos.forEach(nome => {
          const salario = (jogo.salarios && jogo.salarios[nome]) || 0;
          const p = document.createElement('p');
          p.textContent = `${nome} – Salário: $${salario.toLocaleString()}`;
          pilotosDiv.appendChild(p);
        });
      } else {
        pilotosDiv.textContent = 'Nenhum piloto contratado.';
      }

      // Lista staff contratado
      const staffDiv = document.getElementById('listaStaff');
      staffDiv.innerHTML = '';
      if (jogo.staff && jogo.staff.length > 0) {
        jogo.staff.forEach(membro => {
          const p = document.createElement('p');
          p.textContent = `${membro.nome} (${membro.cargo}) – Habilidade: ${membro.habilidade}%`;
          staffDiv.appendChild(p);
        });
      } else {
        staffDiv.textContent = 'Nenhum membro de staff contratado.';
      }
    };
  </script>
</head>
<body>
  <h1>Detalhes da Equipe</h1>
  <p><strong>Equipe:</strong> <span id="nomeEquipe"></span></p>
  <p><strong>Motor:</strong> <span id="motor"></span></p>
  <h2>Pilotos</h2>
  <div id="listaPilotos"></div>
  <h2>Staff</h2>
  <div id="listaStaff"></div>
  <button onclick="window.location.href='../menu-principal.html'">Voltar</button>
</body>
</html>