<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Menu Principal</title>
  <link rel="stylesheet" href="style.css">
  <script defer src="saveManager.js"></script>
  <script defer>
    let jogo = {};

    window.onload = () => {
      jogo = loadGameData();
      if (!jogo) {
        alert("Jogo não carregado.");
        location.href = "index.html";
        return;
      }

      const dinheiroFormatado = jogo.dinheiro !== undefined
        ? `$${jogo.dinheiro.toLocaleString()}`
        : "Indefinido";

      document.getElementById("status").innerHTML = `
        <p><strong>Equipe:</strong> ${jogo.equipe} (${jogo.motor})</p>
        <p><strong>Pilotos:</strong> ${jogo.pilotos?.join(" e ") || "Nenhum"}</p>
        <p><strong>Dinheiro:</strong> ${dinheiroFormatado}</p>
      `;
    };

    function irPara(pagina) {
      location.href = pagina;
    }
  </script>
</head>
<body>
  <h1>Menu Principal</h1>
  <div id="status"></div>
  <br>

  <button onclick="irPara('paginas/fabrica.html')">🏭 Fábrica</button>
  <button onclick="irPara('paginas/pilotos.html')">👨‍✈️ Pilotos</button>
  <button onclick="irPara('paginas/patrocinadores.html')">💰 Patrocinadores</button>
  <button onclick="irPara('paginas/staff.html')">🧠 Staff</button>
  <button onclick="irPara('paginas/jornal.html')">📰 Jornal Retro</button>
  <button onclick="irPara('paginas/corrida.html')">🏁 Corrida</button>
  <button onclick="irPara('paginas/tabela.html')">📊 Tabela</button>
  <button onclick="irPara('paginas/financeiro.html')">📈 Relatório Financeiro</button>

  <br><br>
  <button onclick="saveGame(jogo)">💾 Salvar Jogo</button>
  <button onclick="localStorage.clear(); alert('Jogo resetado.'); location.href='index.html';">🗑️ Resetar Jogo</button>
</body>
</html>
